/*! xxwJs 2014-12-10 ZhangChl*/
define(["xxwOther"],function(a){"use strict";var b=function(a){return new b.prototype.init(a)};return b.prototype={init:function(b){var c={panel:null,img:[],style:1,autoRun:!0,time:3e3,showTitle:!0,showA:!0};this.options=a.extend(c,b),this.index=1,this.aArr=[],this.imgArr=[],this.num=b.img.length,this.obj=a.$$(this.options.panel),this.obj.className="xxw_relative xxw_over "+this.obj.className,this.makeDom(this.obj)},makeDom:function(b){if(this.num){var c=this,d=document.createElement("div");b.appendChild(d),this.title=d,d.className=this.options.showTitle?"xxw_lunBuo_title"+this.options.style:"xxw_hide";for(var e=0;e<this.num;e++){var f=document.createElement("a"),g=document.createElement("a"),h=document.createElement("img");g.appendChild(h),b.appendChild(f),b.appendChild(g),g.href=c.options.img[e].url,g.target="_blank",h.className="xxw_lunBo_img",h.src=c.options.img[e].src,f.className="xxw_lunBuo_nav"+c.options.style+" xxw_lunBuo_a_link"+c.options.style,f.textContent=f.innerText=e+1,f.style.cssText="left:"+22*e+"px",c.aArr.push(f),c.imgArr.push(h),function(b){a.addEvent(f,"mouseover",function(){c.index=b+1,c.show(b+1)})}(e)}this.show(this.index),this.options.autoRun&&this.autoRun()}},show:function(a){a--,this.delCss(),this.title.textContent=this.title.innerText=this.options.img[a].txt,this.aArr[a].className=this.options.showA?"xxw_lunBuo_nav"+this.options.style+" xxw_lunBuo_a_hover"+this.options.style:"xxw_hide",this.imgArr[a].style.cssText="z-index:1"},delCss:function(){for(var a=0;a<this.aArr.length;a++)this.aArr[a].className=this.options.showA?"xxw_lunBuo_nav"+this.options.style+" xxw_lunBuo_a_link"+this.options.style:"xxw_hide",this.imgArr[a].style.cssText="z-index:-1"},autoRun:function(){var a=this;setInterval(function(){a.index++,a.index>a.num&&(a.index=1),a.show(a.index)},a.options.time)}},b.prototype.init.prototype=b.prototype,b});